---
version: 1

kind: group

settings:
  concurrency: 2
  random_search:
    n_experiments: 10

  matrix:
    gamma:
      linspace: 0.095:0.099:5
    batch_size:
      values: [31, 32, 33]

declarations:
  log_level: DEBUG
  num_episodes: 1000

run:
  image: hypnosapos/cartpole-rl-remote:latest
  build_steps:
  - pip install --no-cache-dir -U polyaxon-helper
  cmd:  python model.py -e {{num_episodes}} train \
    --log-level {{log_level }} train --gamma {{gamma}} --batch_size {{batch_size}}